#
# Project:     libFIRM
# File name:   ir/arch/Makefile.in
# Purpose:
# Author:      Boris Boesler, Till Riedel, Michael Beck, Gernot Veit Batz
# Modified by:
# Created:
# CVS-ID:      $Id$
# Copyright:   (c) 1999-2003 Universität Karlsruhe
# Licence:     This file protected by GPL -  GNU GENERAL PUBLIC LICENSE.
#

top_srcdir := @top_srcdir@
srcdir = @srcdir@
topdir = ../..
subdir := ir/ir

INSTALL_HEADERS =	base.h \
					action.h \
					analyze.h \
					ana_vs.h \
					matchplan.h \
					match.h \
					plan_vs_dmst.h \
					grs.h \
					common.h

SOURCES = $(INSTALL_HEADERS)

SOURCES +=	Makefile.in \
			base.c \
			analyze.c \
			auxilary.c \
			plan_vs_dmst.c \
			ana_vs.c \
			matchplan.c \
			grshooks.c \
			action.c \
			match.c

include $(topdir)/MakeRules

CPPFLAGS += 	-I$(top_srcdir)/ir/adt   -I$(top_srcdir)/ir/ir   -I$(top_srcdir)/ir/common  \
		-I$(top_srcdir)/ir/ident -I$(top_srcdir)/ir/tr   -I$(top_srcdir)/ir/tv \
		-I$(top_srcdir)/ir/debug -I$(top_srcdir)/ir/ana  -I$(top_srcdir)/ir/st \
		-I$(top_srcdir)/ir/arch  -I$(top_srcdir)/ir/stat -I$(top_srcdir)/ir/external \
		-I$(topdir)/ir/config

include $(top_srcdir)/MakeTargets

# override header install
local_install_headers: $(INCLUDEDIR)/ext/grs
		$(INSTALL)  -m u+rw,a+r $(addprefix $(srcdir)/,$(INSTALL_HEADERS)) $(INCLUDEDIR)/ext/grs

$(INCLUDEDIR)/ext/grs:
		mkdir -p $@

all: subdir.o

$(srcdir)/ext/grs/plan_vs_dmst.c: $(srcdir)/ext/grs/uf_mpq.h
