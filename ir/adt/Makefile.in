#
# Project:     libFIRM
# File name:   ir/adt/Makefile.in
# Purpose:
# Author:      Boris Boesler, Till Riedel
# Modified by:
# Created:
# CVS-ID:      $Id$
# Copyright:   (c) 1999-2003 Universität Karlsruhe
# Licence:     This file protected by GPL -  GNU GENERAL PUBLIC LICENSE.
#

top_srcdir := @top_srcdir@
srcdir = @srcdir@
topdir = ../..
subdir := ir/adt
disable_libiberty := @disable_libiberty@

INSTALL_HEADERS_ADT = pset.h set.h pmap.h eset.h hashptr.h array.h pdeq.h iterator.h align.h fourcc.h util.h plist.h bipartite.h xmalloc.h

SOURCES = Makefile.in 			        \
	array.c obst.h pdeq.c   \
	set.c pmap.c eset.c iterator.c xmalloc.h \
	plist.c bipartite.c

ifeq ($(disable_libiberty),no)
SOURCES += xmalloc.c
ADDLIB =
else
ADDLIB = xmalloc.o

xmalloc.o: xmalloc.c
	$(COMPILE.c) -o $@ $<
endif

include $(topdir)/MakeRules

CPPFLAGS += -I$(top_srcdir)/ir/adt -I$(top_srcdir)/ir/common -I$(top_srcdir)/ir/debug -I$(topdir)/ir/config
OFILES += pset.o

include $(top_srcdir)/MakeTargets

pset.o:	set.c pset.h
	$(COMPILE.c) -DPSET -o $@ $<

all: subdir.o $(ADDLIB)
