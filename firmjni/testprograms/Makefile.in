# Hey Emacs, this is a -*- makefile -*-
#
# libFIRM Project
#
# $Id$
#

top_srcdir = @top_srcdir@
srcdir = @srcdir@
topdir = ..
subdir = testprograms

SOURCEPATH = @top_srcdir@/firmjni/testprograms/

SOURCES := Makefile.in \
	Empty.java IfElseExample.java

MYCLASSPATH = $(CLASSPATH):../..

LD_LIBRARY_PATH += $srcdir/firmjni


%.class: $(top_srcdir)/firmjni/testprograms/%.java
	javac -d . $<

all: 	empty ifelseexample

# bad hack ;-(
empty:
	javac -classpath $(MYCLASSPATH) -d . $(SOURCEPATH)Empty.java

ifelseexample:
	javac -classpath $(MYCLASSPATH) -d . $(SOURCEPATH)IfElseExample.java

run:	empty ifelseexample
	java -cp $(MYCLASSPATH) -Djava.library.path=$(topdir) Empty
	java -cp $(MYCLASSPATH) -Djava.library.path=$(topdir) IfElseExample

clean:
	-rm *.class

realclean:	clean
	-rm *.vcg
